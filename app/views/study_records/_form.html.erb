<div class="max-w-2xl mx-auto p-6">
  <div class="bg-white rounded-lg shadow-md p-8">
    <%= form_with model: study_record, class: "space-y-6" do |f| %>

      <%# タイトル %>
      <div>
        <%= f.label :title, 'タイトル', class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= f.text_field :title,
          class: "w-full px-4 py-2 border rounded-lg transition-colors focus:ring-2 focus:ring-blue-500 focus:border-blue-500 #{'border-red-500' if study_record.errors[:title].any?}",
          placeholder: "例：Railsの基礎を学んだ" %>
        <% if study_record.errors[:title].any? %>
          <p class="text-red-600 text-sm mt-1"><%= study_record.errors.full_messages_for(:title).join(', ') %></p>
        <% end %>
      </div>

      <%# 学習内容 %>
      <div>
        <%= f.label :content, '学習内容', class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= f.text_area :content,
          rows: 6,
          class: "w-full px-4 py-2 border rounded-lg transition-colors focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none #{'border-red-500' if study_record.errors[:content].any?}",
          placeholder: "今日学んだことや気づいたことを記録しましょう" %>
        <% if study_record.errors[:content].any? %>
          <p class="text-red-600 text-sm mt-1"><%= study_record.errors.full_messages_for(:content).join(', ') %></p>
        <% end %>
      </div>

      <%# 2列レイアウト %>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <%# カテゴリ %>
        <div>
          <%= f.label :category, 'カテゴリ', class: "block text-sm font-medium text-gray-700 mb-2" %>
          <%= f.select :category,
            StudyRecord.category_options,
            { include_blank: '選択してください' },
            class: "w-full px-4 py-2 border rounded-lg transition-colors focus:ring-2 focus:ring-blue-500 focus:border-blue-500 #{'border-red-500' if study_record.errors[:category].any?}" %>
          <% if study_record.errors[:category].any? %>
            <p class="text-red-600 text-sm mt-1"><%= study_record.errors.full_messages_for(:category).join(', ') %></p>
          <% end %>
        </div>

        <%# 学習日 %>
        <div>
          <%= f.label :studied_at, '学習日', class: "block text-sm font-medium text-gray-700 mb-2" %>
          <%= f.date_field :studied_at, 
            required: true,
            class: "w-full px-4 py-2 border rounded-lg transition-colors focus:ring-2 focus:ring-blue-500 focus:border-blue-500 #{'border-red-500' if study_record.errors[:studied_at].any?}" %>
          <% if study_record.errors[:studied_at].any? %>
            <p class="text-red-600 text-sm mt-1"><%= study_record.errors.full_messages_for(:studied_at).join(', ') %></p>
          <% end %>
        </div>
      </div>

      <%# 送信ボタン %>
      <div class="flex items-center justify-between pt-4 border-t border-gray-200">
        <%= link_to 'キャンセル', :back, 
          class: "px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors" %>
        
        <%= f.submit(study_record.persisted? ? '更新する' : '作成する',
          class: "px-8 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm transition-colors cursor-pointer") %>
      </div>
    <% end %>
  </div>
</div>
